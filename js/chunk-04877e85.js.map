{"version":3,"sources":["webpack:///./src/views/Login.vue?e7a0","webpack:///./src/core/constants.js","webpack:///./src/views/Login.vue?389e","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["MALL_URL","MAX_RESULT_PAGE","KEY_BOOK_TAG","TEXT_LOGIN_SUCCESS","TEXT_COPY_SUCCESS","TEXT_COPY_FAIL","TEXT_INPUT_VERIFY","TEXT_SYS_ERR_PLEASE_TRY_AGAIN","CODE_SUCCESS","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","_v","ref","form","rules","nativeOn","$event","type","indexOf","_k","keyCode","key","onSubmit","model","value","callback","$$v","$set","expression","staticStyle","on","staticRenderFns","name","data","username","password","methods","$refs","validate","valid","console","log","res","code","token","component"],"mappings":"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","file":"js/chunk-04877e85.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=49a2664e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=49a2664e&scoped=true&lang=scss&\"","export const MALL_URL = 'https://mall.misiai.com'\nexport const MAX_RESULT_PAGE = 10\nexport const EVENT_SEARCH = 'on_search'\nexport const KEY_BOOK_TAG = 'book'\nexport const KEY_MOVIE_TAG = 'movie'\n\nexport const TEXT_LOGIN_SUCCESS = '登录成功'\nexport const TEXT_COPY_SUCCESS = '复制成功'\nexport const TEXT_COPY_FAIL = '复制失败'\nexport const TEXT_INPUT_VERIFY = '请输入验证码'\nexport const TEXT_SYS_ERR_PLEASE_TRY_AGAIN = '抱歉，系统错误，请稍后重试'\n\nexport const CODE_SUCCESS = 200\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('el-row',{attrs:{\"justify\":\"center\",\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":12,\"sm\":12,\"md\":8,\"xs\":12,\"lg\":7}},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"登录\")])]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\",\"label-width\":\"70px\"}},[_c('el-input',{attrs:{\"type\":\"username\",\"placeholder\":\"输入用户名\",\"autocomplete\":\"off\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit($event)}},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}},[_c('i',{staticClass:\"el-input__icon el-icon-user\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"label\":\"密 码\",\"prop\":\"password\",\"label-width\":\"70px\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"输入密码\",\"autocomplete\":\"off\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onSubmit($event)}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-key\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',[_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"登录\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"login\">\n    <el-row justify=\"center\" type=\"flex\">\n      <el-col :span=\"12\" :sm=\"12\" :md=\"8\" :xs=\"12\" :lg=\"7\">\n        <el-card class=\"box-card\">\n          <div slot=\"header\" class=\"clearfix\">\n            <span>登录</span>\n          </div>\n          <el-form :model=\"form\" :rules=\"rules\" ref=\"form\">\n            <el-form-item label=\"用户名\" prop=\"username\" label-width=\"70px\">\n              <el-input type=\"username\"\n                        placeholder=\"输入用户名\"\n                        v-model=\"form.username\" @keyup.native.enter=\"onSubmit\" autocomplete=\"off\">\n                <i slot=\"prefix\" class=\"el-input__icon el-icon-user\"></i>\n              </el-input>\n            </el-form-item>\n            <el-form-item label=\"密 码\" prop=\"password\" label-width=\"70px\">\n              <el-input type=\"password\"\n                        placeholder=\"输入密码\"\n                        v-model=\"form.password\" @keyup.native.enter=\"onSubmit\" autocomplete=\"off\">\n                <i slot=\"prefix\" class=\"el-input__icon el-icon-key\"></i>\n              </el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button style=\"float: right\" type=\"primary\" @click=\"onSubmit\">登录</el-button>\n            </el-form-item>\n          </el-form>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { reqLogin } from '@/api/user'\nimport { CODE_SUCCESS, TEXT_LOGIN_SUCCESS } from '@/core/constants'\n\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      form: {\n        username: '',\n        password: ''\n      },\n      rules: {\n        username: [\n          {\n            required: true,\n            trigger: 'blur',\n            message: '用户名必填'\n          }\n        ],\n        password: [\n          {\n            required: true,\n            trigger: 'blur',\n            message: '密码必填'\n          }\n        ]\n      }\n    }\n  },\n  methods: {\n    onSubmit () {\n      this.$refs.form.validate((valid) => {\n        if (valid) {\n          reqLogin(this.form.username, this.form.password).then((res) => {\n            console.log(res)\n            const code = res.code\n            if (code === CODE_SUCCESS) {\n              const data = res.data\n              const { token, username } = data\n              // if (authority !== ADMIN_ROLE_TEXT) {\n              //   this.$message.error(NOT_ADMIN_TEXT)\n              //   return\n              // }\n              this.$message.success(TEXT_LOGIN_SUCCESS)\n\n              this.$store.commit('changeUser', {\n                username,\n                token\n              })\n              this.$router.push({ name: 'AdminIndex' })\n            } else {\n              this.$message.error(res.msg)\n            }\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.login {\n  width: 100%;\n  height: 100%;\n  margin-top: 7rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=49a2664e&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=49a2664e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49a2664e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}