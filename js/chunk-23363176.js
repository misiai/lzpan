(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23363176"],{"391b":function(t,e,s){},"6d1b":function(t,e,s){"use strict";function n(t,e){var s=!0;return function(){var n=arguments,o=this;s&&(s=!1,setTimeout((function(){t.apply(o,n),s=!0}),e))}}s.d(e,"a",(function(){return n}))},be2f:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-box"},[n("div",{staticClass:"logo"},[n("a",{attrs:{href:"#"},on:{click:t.toHome}},[n("img",{attrs:{src:s("4e7d"),alt:"lzpan"}})])]),n("div",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.kw,expression:"kw"}],ref:"input",attrs:{type:"text",placeholder:"影视、小说、网盘","aria-label":"search",autofocus:""},domProps:{value:t.kw},on:{focus:function(e){t.showSuggest=!0},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSearch(e)},input:function(e){e.target.composing||(t.kw=e.target.value)}}}),n("button",{on:{click:t.onSearch}},[n("span",{staticClass:"iconfont icon-search"})]),t.suggestions.length>0&&t.showSuggest?n("div",{ref:"suggestion-box",staticClass:"search-notice-box"},t._l(t.suggestions,(function(e,s){return n("div",{key:s,class:{item:!0,active:s===t.suggestionChose},on:{click:function(s){return t.choseKw(e)}}},[t._v(" "+t._s(e)+" ")])})),0):t._e()]),n("div",{staticClass:"info"})])},o=[],i=s("6d1b"),u={name:"SearchBox",data:function(){return{kw:"",what:"movie",showSuggest:!1,reqSuggest:!1,suggestionChose:-1,suggestions:[],timer:null}},methods:{choseKw:function(t){this.kw=t,this.onSearch()},toHome:function(){this.$router.push({name:"Home"})},onSearch:function(){""!==this.kw&&this.$router.push({name:"Search",query:{kw:this.kw,what:this.what}})},getBDSuggestion:function(){this.reqSuggest&&""!==this.kw&&this.$jsonp("https://suggestion.baidu.com/su?cb=jsonpCallback&wd="+this.kw).then((function(t){console.log(t)})).catch((function(t){console.log("jsonp err: ",t)}))}},watch:{kw:function(){Object(i["a"])(this.getBDSuggestion,100)()}},mounted:function(){var t=this;this.$nextTick((function(){window.jsonpCallback=function(e){t.suggestions=e.s},document.addEventListener("click",(function(e){e.target!==t.$refs["suggestion-box"]&&e.target!==t.$refs.input&&(t.showSuggest=!1)})),t.$refs.input.addEventListener("keyup",(function(e){var s=e.keyCode;40===s||38===s?(t.reqSuggest=!1,40===s&&(t.suggestionChose=(t.suggestionChose+1)%(t.suggestions.length||0)),38===s&&(t.suggestionChose=(t.suggestionChose-1)%(t.suggestions.length||0),t.suggestionChose<0&&(t.suggestionChose=t.suggestions.length-1)),t.kw=t.suggestions[t.suggestionChose]):t.reqSuggest=!0}))}))}},c=u,a=(s("f632"),s("2877")),g=Object(a["a"])(c,n,o,!1,null,"248984c2",null);e["default"]=g.exports},f632:function(t,e,s){"use strict";var n=s("391b"),o=s.n(n);o.a}}]);
//# sourceMappingURL=chunk-23363176.js.map